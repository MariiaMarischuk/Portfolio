##A/B-тестирование.
#Задача — провести оценку результатов A/B-теста. В распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.
#Техническое задание
- Название теста: recommender_system_test;
- группы: А — контрольная, B — новая платёжная воронка;
- дата запуска: 2020-12-07;
- дата остановки набора новых пользователей: 2020-12-21;
- дата остановки: 2021-01-04;
- аудитория: 15% новых пользователей из региона EU;
- назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
- ожидаемое количество участников теста: 6000.
- ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%:
- конверсии в просмотр карточек товаров — событие product_page,
- просмотры корзины — product_cart,
- покупки — purchase.
#Необходимо оценить корректность проведения теста. Проверить:

1. Соответствие данных требованиям технического задания. В случае нарушения требований оценим, насколько существенно негативное влияние на результаты теста. При проверке условий технического задания и фильтрации данных, контролируем количество уникальных пользователей, принимающих участие в тесте – это поможет детальнее изучить влияние каждого условия на аудиторию теста.
2. Время проведения теста. Убедимся, что оно не совпадает с маркетинговыми и другими активностями.
3. Аудиторию теста. Удостоверимся, что нет пересечений с конкурирующим тестом и нет пользователей, участвующих в двух группах теста одновременно. Проверим равномерность распределения пользователей по группам и правильность их формирования.
Повышать уровень альфа до 0.1 не имеет смысла из-за повышения вероятности ложнопозитивного результата. Исходя из поправки Бонферрони - скорректированный уровень значимости 0,0125. Минимальное значение p_value в наших рассчетах - 0,08, что выше скорректированного уровня стат значимости, поэтому повторная проверка не нужна.

По результатам проверки статистической разницы групп z-критерием видим, что разницы в шагах login, purchase и product_cart между группами нет. А в шаге product_page выявили статистически значимую разницу, исходя из конверсии групп в этом шаге, можно сказать, что показатель группы Б хуже, чем у группы А.

##Общие выводы:
1. Данные не соответствуют ТЗ, а именно:
- пользователи не совершали действий после 30 декабря 2020, а дата остановки заявлена: 2021-01-04;
- ожидаемое количество участников теста: 6000, а у нас по очищенным данным 2594;
- по аудитории (15% новых пользователей из региона EU), процент новых пользователей из региона EU по очищенным данным: 6 %.
2. Количество событий в выбрках на каждого пользователя распределено неравномерно. В первую неделю теста количество событий не превышало 300 в обеих группах, затем идет пик активности для группы А, самые высокие значения 21 декабря. Группа Б идет ровно, но значения не высокие. В обеих гурппах резкое снижение активности после 21 декабря.
3.Событие - purchase (покупка) совершают больше пользователей, чем событие product_cart(просмотр корзины) в обеих группах.
4. По результатам проверки статистической разницы групп z-критерием видим, что разницы в шагах login, purchase и product_cart между группами нет. А в шаге product_page выявили статистически значимую разницу, исходя из конверсии групп в этом шаге, можно сказать, что показатель группы Б хуже, чем у группы А.

Выявили много ошибок в проведении тестирования, результаты нельзя использовать и считать правильными. Рекомендую повторное проведение теста с учетом всех ошибок.
